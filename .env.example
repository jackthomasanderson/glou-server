# Glou Server Configuration

# ========================================
# ENVIRONNEMENT
# ========================================
ENVIRONMENT=development
# Values: development, production

# ========================================
# SERVEUR
# ========================================
# Port d'écoute
PORT=8080

# Base de données
DB_PATH=./glou.db
PUBLIC_PROTOCOL=http
PUBLIC_DOMAIN=localhost:8080

# ========================================
# SÉCURITÉ - CHIFFREMENT (ANSSI)
# ========================================
# OBLIGATOIRE EN PRODUCTION
# Générez une passphrase forte : openssl rand -base64 48
ENCRYPTION_PASSPHRASE=votre_phrase_de_passe_minimum_32_caracteres_tres_longue_et_securisee

# Salt unique pour cette installation (changez pour chaque déploiement)
ENCRYPTION_SALT=glou-server-unique-salt-change-me-in-production

# ========================================
# CORS ET ORIGINES
# ========================================
# CORS - Domaines autorisés (séparés par des virgules)
# Exemples: http://localhost:3000,https://glou.example.com
CORS_ALLOWED_ORIGINS=http://localhost:8080,http://localhost:3000

# ========================================
# RATE LIMITING
# ========================================
# Rate Limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW_SECONDS=60

# ========================================
# TIMEOUTS ET LIMITES
# ========================================
# Security
REQUEST_TIMEOUT_SECONDS=30
MAX_REQUEST_BODY_SIZE=1048576

# ========================================
# LOGGING
# ========================================
# Logging
LOG_LEVEL=info
# Values: debug, info, warn, error
TRUST_PROXY_HEADERS=false

# Session secret for signed cookies (required in production)
SESSION_SECRET=change-me-32+chars

# ========================================
# NOTIFICATIONS - GOTIFY (optionnel)
# ========================================
# Gotify (optional - leave empty to disable)
# Gotify is a simple push notification service
# Install: https://gotify.net/
# Example: http://localhost:80 (without trailing slash)
GOTIFY_URL=
GOTIFY_TOKEN=

# ========================================
# NOTIFICATIONS - SMTP (optionnel)
# ========================================
# SMTP Email (optional - leave empty to disable)
# For sending wine alert notifications via email
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password
SMTP_FROM=glou@example.com
SMTP_TO=recipient@example.com
SMTP_USE_TLS=true

# ========================================
# NOTES DE SÉCURITÉ ANSSI
# ========================================
# 1. ENCRYPTION_PASSPHRASE doit faire minimum 32 caractères
# 2. En production, ENCRYPTION_PASSPHRASE est OBLIGATOIRE
# 3. Changez ENCRYPTION_SALT pour chaque installation
# 4. Ne commitez JAMAIS ce fichier avec les vraies valeurs
# 5. Utilisez des permissions restrictives : chmod 600 .env
# 6. Stockez les secrets dans un gestionnaire sécurisé (Vault, etc.)
# 7. Rotation régulière des clés recommandée (tous les 6-12 mois)
# 8. Tokens et mots de passe sont automatiquement chiffrés en base de données

