<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Internationalization</title>
</head>
<body>
    <h1 data-i18n="welcome">üç∑ Welcome to Glou</h1>
    <p data-i18n="subtitle">Initial setup in 5 steps</p>
    <button onclick="switchLanguage('fr')">Fran√ßais</button>
    <button onclick="switchLanguage('en')">English</button>
    <p>Detected language: <span id="detected-lang"></span></p>

    <script>
        const translations = {
            en: {
                welcome: 'üç∑ Welcome to Glou',
                subtitle: 'Initial setup in 5 steps'
            },
            fr: {
                welcome: 'üç∑ Bienvenue sur Glou',
                subtitle: 'Configuration initiale en 5 √©tapes'
            }
        };

        let currentLanguage = 'en';

        function detectLanguage() {
            const browserLang = navigator.language || navigator.userLanguage;
            return browserLang.startsWith('fr') ? 'fr' : 'en';
        }

        function t(key) {
            return translations[currentLanguage][key] || translations['en'][key] || key;
        }

        function updateContent() {
            document.title = t('title');
            document.querySelectorAll('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                element.textContent = t(key);
            });
        }

        function switchLanguage(lang) {
            currentLanguage = lang;
            updateContent();
        }

        // Initialize
        window.addEventListener('DOMContentLoaded', () => {
            const detectedLang = detectLanguage();
            document.getElementById('detected-lang').textContent = detectedLang;
            currentLanguage = detectedLang;
            updateContent();
        });
    </script>
</body>
</html>